<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_192-ea) on Mon Aug 26 13:32:53 PDT 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TxnStore (Hive 3.1.2 API)</title>
<meta name="date" content="2019-08-26">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TxnStore (Hive 3.1.2 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6,"i14":6,"i15":6,"i16":6,"i17":6,"i18":6,"i19":6,"i20":6,"i21":6,"i22":6,"i23":6,"i24":6,"i25":6,"i26":6,"i27":6,"i28":6,"i29":6,"i30":6,"i31":6,"i32":6,"i33":6,"i34":6,"i35":6,"i36":6,"i37":6,"i38":6,"i39":6,"i40":6,"i41":6,"i42":6,"i43":6,"i44":6,"i45":6,"i46":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TxnStore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnDbUtil.html" title="class in org.apache.hadoop.hive.metastore.txn"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.MUTEX_KEY.html" title="enum in org.apache.hadoop.hive.metastore.txn"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/hadoop/hive/metastore/txn/TxnStore.html" target="_top">Frames</a></li>
<li><a href="TxnStore.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.hive.metastore.txn</div>
<h2 title="Interface TxnStore" class="title">Interface TxnStore</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd>org.apache.hadoop.conf.Configurable</dd>
</dl>
<hr>
<br>
<pre>@InterfaceAudience.Private
 @InterfaceStability.Evolving
public interface <span class="typeNameLabel">TxnStore</span>
extends org.apache.hadoop.conf.Configurable</pre>
<div class="block">A handler to answer transaction related calls that come into the metastore
 server.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Interface and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.MUTEX_KEY.html" title="enum in org.apache.hadoop.hive.metastore.txn">TxnStore.MUTEX_KEY</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.MutexAPI.html" title="interface in org.apache.hadoop.hive.metastore.txn">TxnStore.MutexAPI</a></span></code>
<div class="block">This is primarily designed to provide coarse grained mutex support to operations running
 inside the Metastore (of which there could be several instances).</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#ATTEMPTED_RESPONSE">ATTEMPTED_RESPONSE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#CLEANING_RESPONSE">CLEANING_RESPONSE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#FAILED_RESPONSE">FAILED_RESPONSE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#INITIATED_RESPONSE">INITIATED_RESPONSE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#SUCCEEDED_RESPONSE">SUCCEEDED_RESPONSE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#TIMED_OUT_TXN_ABORT_BATCH_SIZE">TIMED_OUT_TXN_ABORT_BATCH_SIZE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#WORKING_RESPONSE">WORKING_RESPONSE</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#abortTxn-org.apache.hadoop.hive.metastore.api.AbortTxnRequest-">abortTxn</a></span>(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/AbortTxnRequest.html" title="class in org.apache.hadoop.hive.metastore.api">AbortTxnRequest</a>&nbsp;rqst)</code>
<div class="block">Abort (rollback) a transaction.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#abortTxns-org.apache.hadoop.hive.metastore.api.AbortTxnsRequest-">abortTxns</a></span>(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/AbortTxnsRequest.html" title="class in org.apache.hadoop.hive.metastore.api">AbortTxnsRequest</a>&nbsp;rqst)</code>
<div class="block">Abort (rollback) a list of transactions in one request.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#addDynamicPartitions-org.apache.hadoop.hive.metastore.api.AddDynamicPartitions-">addDynamicPartitions</a></span>(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/AddDynamicPartitions.html" title="class in org.apache.hadoop.hive.metastore.api">AddDynamicPartitions</a>&nbsp;rqst)</code>
<div class="block">Add information on a set of dynamic partitions that participated in a transaction.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/AllocateTableWriteIdsResponse.html" title="class in org.apache.hadoop.hive.metastore.api">AllocateTableWriteIdsResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#allocateTableWriteIds-org.apache.hadoop.hive.metastore.api.AllocateTableWriteIdsRequest-">allocateTableWriteIds</a></span>(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/AllocateTableWriteIdsRequest.html" title="class in org.apache.hadoop.hive.metastore.api">AllocateTableWriteIdsRequest</a>&nbsp;rqst)</code>
<div class="block">Allocate a write ID for the given table and associate it with a transaction</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#checkFailedCompactions-org.apache.hadoop.hive.metastore.txn.CompactionInfo-">checkFailedCompactions</a></span>(<a href="../../../../../../org/apache/hadoop/hive/metastore/txn/CompactionInfo.html" title="class in org.apache.hadoop.hive.metastore.txn">CompactionInfo</a>&nbsp;ci)</code>
<div class="block">Determine if there are enough consecutive failures compacting a table or partition that no
 new automatic compactions should be scheduled.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/LockResponse.html" title="class in org.apache.hadoop.hive.metastore.api">LockResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#checkLock-org.apache.hadoop.hive.metastore.api.CheckLockRequest-">checkLock</a></span>(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/CheckLockRequest.html" title="class in org.apache.hadoop.hive.metastore.api">CheckLockRequest</a>&nbsp;rqst)</code>
<div class="block">Check whether a lock has been obtained.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#cleanEmptyAbortedTxns--">cleanEmptyAbortedTxns</a></span>()</code>
<div class="block">Clean up aborted transactions from txns that have no components in txn_components.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#cleanTxnToWriteIdTable--">cleanTxnToWriteIdTable</a></span>()</code>
<div class="block">Clean up entries from TXN_TO_WRITE_ID table less than min_uncommited_txnid as found by
 min(NEXT_TXN_ID.ntxn_next, min(MIN_HISTORY_LEVEL.mhl_min_open_txnid), min(Aborted TXNS.txn_id)).</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#cleanupMaterializationRebuildLocks-org.apache.hadoop.hive.common.ValidTxnList-long-">cleanupMaterializationRebuildLocks</a></span>(org.apache.hadoop.hive.common.ValidTxnList&nbsp;validTxnList,
                                  long&nbsp;timeout)</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#cleanupRecords-org.apache.hadoop.hive.metastore.api.HiveObjectType-org.apache.hadoop.hive.metastore.api.Database-org.apache.hadoop.hive.metastore.api.Table-java.util.Iterator-">cleanupRecords</a></span>(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/HiveObjectType.html" title="enum in org.apache.hadoop.hive.metastore.api">HiveObjectType</a>&nbsp;type,
              <a href="../../../../../../org/apache/hadoop/hive/metastore/api/Database.html" title="class in org.apache.hadoop.hive.metastore.api">Database</a>&nbsp;db,
              <a href="../../../../../../org/apache/hadoop/hive/metastore/api/Table.html" title="class in org.apache.hadoop.hive.metastore.api">Table</a>&nbsp;table,
              <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../../../../org/apache/hadoop/hive/metastore/api/Partition.html" title="class in org.apache.hadoop.hive.metastore.api">Partition</a>&gt;&nbsp;partitionIterator)</code>
<div class="block">Clean up corresponding records in metastore tables.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#commitTxn-org.apache.hadoop.hive.metastore.api.CommitTxnRequest-">commitTxn</a></span>(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/CommitTxnRequest.html" title="class in org.apache.hadoop.hive.metastore.api">CommitTxnRequest</a>&nbsp;rqst)</code>
<div class="block">Commit a transaction</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/CompactionResponse.html" title="class in org.apache.hadoop.hive.metastore.api">CompactionResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#compact-org.apache.hadoop.hive.metastore.api.CompactionRequest-">compact</a></span>(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/CompactionRequest.html" title="class in org.apache.hadoop.hive.metastore.api">CompactionRequest</a>&nbsp;rqst)</code>
<div class="block">Submit a compaction request into the queue.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#countOpenTxns--">countOpenTxns</a></span>()</code>
<div class="block">Get the count for open transactions.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#findColumnsWithStats-org.apache.hadoop.hive.metastore.txn.CompactionInfo-">findColumnsWithStats</a></span>(<a href="../../../../../../org/apache/hadoop/hive/metastore/txn/CompactionInfo.html" title="class in org.apache.hadoop.hive.metastore.txn">CompactionInfo</a>&nbsp;ci)</code>
<div class="block">Queries metastore DB directly to find columns in the table which have statistics information.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/CompactionInfo.html" title="class in org.apache.hadoop.hive.metastore.txn">CompactionInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#findNextToCompact-java.lang.String-">findNextToCompact</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;workerId)</code>
<div class="block">This will grab the next compaction request off of
 the queue, and assign it to the worker.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../../../org/apache/hadoop/hive/metastore/txn/CompactionInfo.html" title="class in org.apache.hadoop.hive.metastore.txn">CompactionInfo</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#findPotentialCompactions-int-">findPotentialCompactions</a></span>(int&nbsp;maxAborted)</code>
<div class="block">This will look through the completed_txn_components table and look for partitions or tables
 that may be ready for compaction.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../org/apache/hadoop/hive/metastore/txn/CompactionInfo.html" title="class in org.apache.hadoop.hive.metastore.txn">CompactionInfo</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#findReadyToClean--">findReadyToClean</a></span>()</code>
<div class="block">Find entries in the queue that are ready to
 be cleaned.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/Materialization.html" title="class in org.apache.hadoop.hive.metastore.api">Materialization</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#getMaterializationInvalidationInfo-org.apache.hadoop.hive.metastore.api.CreationMetadata-java.lang.String-">getMaterializationInvalidationInfo</a></span>(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/CreationMetadata.html" title="class in org.apache.hadoop.hive.metastore.api">CreationMetadata</a>&nbsp;cm,
                                  <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;validTxnList)</code>
<div class="block">Get invalidation info for the materialization.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.MutexAPI.html" title="interface in org.apache.hadoop.hive.metastore.txn">TxnStore.MutexAPI</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#getMutexAPI--">getMutexAPI</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/GetOpenTxnsResponse.html" title="class in org.apache.hadoop.hive.metastore.api">GetOpenTxnsResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#getOpenTxns--">getOpenTxns</a></span>()</code>
<div class="block">Get list of valid transactions.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/GetOpenTxnsInfoResponse.html" title="class in org.apache.hadoop.hive.metastore.api">GetOpenTxnsInfoResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#getOpenTxnsInfo--">getOpenTxnsInfo</a></span>()</code>
<div class="block">Get information about open transactions.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/GetValidWriteIdsResponse.html" title="class in org.apache.hadoop.hive.metastore.api">GetValidWriteIdsResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#getValidWriteIds-org.apache.hadoop.hive.metastore.api.GetValidWriteIdsRequest-">getValidWriteIds</a></span>(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/GetValidWriteIdsRequest.html" title="class in org.apache.hadoop.hive.metastore.api">GetValidWriteIdsRequest</a>&nbsp;rqst)</code>
<div class="block">Gets the list of valid write ids for the given table wrt to current txn</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#heartbeat-org.apache.hadoop.hive.metastore.api.HeartbeatRequest-">heartbeat</a></span>(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/HeartbeatRequest.html" title="class in org.apache.hadoop.hive.metastore.api">HeartbeatRequest</a>&nbsp;ids)</code>
<div class="block">Send a heartbeat for a lock or a transaction</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#heartbeatLockMaterializationRebuild-java.lang.String-java.lang.String-long-">heartbeatLockMaterializationRebuild</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;dbName,
                                   <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tableName,
                                   long&nbsp;txnId)</code>&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/HeartbeatTxnRangeResponse.html" title="class in org.apache.hadoop.hive.metastore.api">HeartbeatTxnRangeResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#heartbeatTxnRange-org.apache.hadoop.hive.metastore.api.HeartbeatTxnRangeRequest-">heartbeatTxnRange</a></span>(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/HeartbeatTxnRangeRequest.html" title="class in org.apache.hadoop.hive.metastore.api">HeartbeatTxnRangeRequest</a>&nbsp;rqst)</code>
<div class="block">Heartbeat a group of transactions together</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/LockResponse.html" title="class in org.apache.hadoop.hive.metastore.api">LockResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#lock-org.apache.hadoop.hive.metastore.api.LockRequest-">lock</a></span>(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/LockRequest.html" title="class in org.apache.hadoop.hive.metastore.api">LockRequest</a>&nbsp;rqst)</code>
<div class="block">Obtain a lock.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/LockResponse.html" title="class in org.apache.hadoop.hive.metastore.api">LockResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#lockMaterializationRebuild-java.lang.String-java.lang.String-long-">lockMaterializationRebuild</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;dbName,
                          <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tableName,
                          long&nbsp;txnId)</code>&nbsp;</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#markCleaned-org.apache.hadoop.hive.metastore.txn.CompactionInfo-">markCleaned</a></span>(<a href="../../../../../../org/apache/hadoop/hive/metastore/txn/CompactionInfo.html" title="class in org.apache.hadoop.hive.metastore.txn">CompactionInfo</a>&nbsp;info)</code>
<div class="block">This will remove an entry from the queue after
 it has been compacted.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#markCompacted-org.apache.hadoop.hive.metastore.txn.CompactionInfo-">markCompacted</a></span>(<a href="../../../../../../org/apache/hadoop/hive/metastore/txn/CompactionInfo.html" title="class in org.apache.hadoop.hive.metastore.txn">CompactionInfo</a>&nbsp;info)</code>
<div class="block">This will mark an entry in the queue as compacted
 and put it in the ready to clean state.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#markFailed-org.apache.hadoop.hive.metastore.txn.CompactionInfo-">markFailed</a></span>(<a href="../../../../../../org/apache/hadoop/hive/metastore/txn/CompactionInfo.html" title="class in org.apache.hadoop.hive.metastore.txn">CompactionInfo</a>&nbsp;info)</code>
<div class="block">Mark a compaction entry as failed.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#numLocksInLockTable--">numLocksInLockTable</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#onRename-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-">onRename</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;oldCatName,
        <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;oldDbName,
        <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;oldTabName,
        <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;oldPartName,
        <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;newCatName,
        <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;newDbName,
        <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;newTabName,
        <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;newPartName)</code>&nbsp;</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/OpenTxnsResponse.html" title="class in org.apache.hadoop.hive.metastore.api">OpenTxnsResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#openTxns-org.apache.hadoop.hive.metastore.api.OpenTxnRequest-">openTxns</a></span>(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/OpenTxnRequest.html" title="class in org.apache.hadoop.hive.metastore.api">OpenTxnRequest</a>&nbsp;rqst)</code>
<div class="block">Open a set of transactions</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#performTimeOuts--">performTimeOuts</a></span>()</code>
<div class="block">Timeout transactions and/or locks.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#performWriteSetGC--">performWriteSetGC</a></span>()</code>
<div class="block">WriteSet tracking is used to ensure proper transaction isolation.</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#purgeCompactionHistory--">purgeCompactionHistory</a></span>()</code>
<div class="block">For any given compactable entity (partition, table if not partitioned) the history of compactions
 may look like "sssfffaaasffss", for example.</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#replTableWriteIdState-org.apache.hadoop.hive.metastore.api.ReplTblWriteIdStateRequest-">replTableWriteIdState</a></span>(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/ReplTblWriteIdStateRequest.html" title="class in org.apache.hadoop.hive.metastore.api">ReplTblWriteIdStateRequest</a>&nbsp;rqst)</code>
<div class="block">Replicate Table Write Ids state to mark aborted write ids and writeid high water mark.</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#revokeFromLocalWorkers-java.lang.String-">revokeFromLocalWorkers</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;hostname)</code>
<div class="block">This will take all entries assigned to workers
 on a host return them to INITIATED state.</div>
</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#revokeTimedoutWorkers-long-">revokeTimedoutWorkers</a></span>(long&nbsp;timeout)</code>
<div class="block">This call will return all compaction queue
 entries assigned to a worker but over the timeout back to the initiated state.</div>
</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#seedWriteIdOnAcidConversion-org.apache.hadoop.hive.metastore.api.InitializeTableWriteIdsRequest-">seedWriteIdOnAcidConversion</a></span>(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/InitializeTableWriteIdsRequest.html" title="class in org.apache.hadoop.hive.metastore.api">InitializeTableWriteIdsRequest</a>&nbsp;rqst)</code>
<div class="block">Called on conversion of existing table to full acid.</div>
</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#setCompactionHighestWriteId-org.apache.hadoop.hive.metastore.txn.CompactionInfo-long-">setCompactionHighestWriteId</a></span>(<a href="../../../../../../org/apache/hadoop/hive/metastore/txn/CompactionInfo.html" title="class in org.apache.hadoop.hive.metastore.txn">CompactionInfo</a>&nbsp;ci,
                           long&nbsp;highestWriteId)</code>
<div class="block">Record the highest write id that the <code>ci</code> compaction job will pay attention to.</div>
</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#setHadoopJobId-java.lang.String-long-">setHadoopJobId</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;hadoopJobId,
              long&nbsp;id)</code>
<div class="block">Once a <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html?is-external=true" title="class or interface in java.util.concurrent"><code>ThreadPoolExecutor</code></a> Worker submits a job to the cluster,
 it calls this to update the metadata.</div>
</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#setRunAs-long-java.lang.String-">setRunAs</a></span>(long&nbsp;cq_id,
        <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;user)</code>
<div class="block">Sets the user to run as.</div>
</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#setTimeout-long-">setTimeout</a></span>(long&nbsp;milliseconds)</code>&nbsp;</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/ShowCompactResponse.html" title="class in org.apache.hadoop.hive.metastore.api">ShowCompactResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#showCompact-org.apache.hadoop.hive.metastore.api.ShowCompactRequest-">showCompact</a></span>(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/ShowCompactRequest.html" title="class in org.apache.hadoop.hive.metastore.api">ShowCompactRequest</a>&nbsp;rqst)</code>
<div class="block">Show list of current compactions.</div>
</td>
</tr>
<tr id="i45" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/ShowLocksResponse.html" title="class in org.apache.hadoop.hive.metastore.api">ShowLocksResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#showLocks-org.apache.hadoop.hive.metastore.api.ShowLocksRequest-">showLocks</a></span>(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/ShowLocksRequest.html" title="class in org.apache.hadoop.hive.metastore.api">ShowLocksRequest</a>&nbsp;rqst)</code>
<div class="block">Get information on current locks.</div>
</td>
</tr>
<tr id="i46" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#unlock-org.apache.hadoop.hive.metastore.api.UnlockRequest-">unlock</a></span>(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/UnlockRequest.html" title="class in org.apache.hadoop.hive.metastore.api">UnlockRequest</a>&nbsp;rqst)</code>
<div class="block">Unlock a lock.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.hadoop.conf.Configurable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.hadoop.conf.Configurable</h3>
<code>getConf, setConf</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="INITIATED_RESPONSE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INITIATED_RESPONSE</h4>
<pre>static final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> INITIATED_RESPONSE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.hadoop.hive.metastore.txn.TxnStore.INITIATED_RESPONSE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="WORKING_RESPONSE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WORKING_RESPONSE</h4>
<pre>static final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> WORKING_RESPONSE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.hadoop.hive.metastore.txn.TxnStore.WORKING_RESPONSE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="CLEANING_RESPONSE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CLEANING_RESPONSE</h4>
<pre>static final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> CLEANING_RESPONSE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.hadoop.hive.metastore.txn.TxnStore.CLEANING_RESPONSE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="FAILED_RESPONSE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FAILED_RESPONSE</h4>
<pre>static final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> FAILED_RESPONSE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.hadoop.hive.metastore.txn.TxnStore.FAILED_RESPONSE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="SUCCEEDED_RESPONSE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SUCCEEDED_RESPONSE</h4>
<pre>static final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> SUCCEEDED_RESPONSE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.hadoop.hive.metastore.txn.TxnStore.SUCCEEDED_RESPONSE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="ATTEMPTED_RESPONSE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ATTEMPTED_RESPONSE</h4>
<pre>static final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> ATTEMPTED_RESPONSE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.hadoop.hive.metastore.txn.TxnStore.ATTEMPTED_RESPONSE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="TIMED_OUT_TXN_ABORT_BATCH_SIZE">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TIMED_OUT_TXN_ABORT_BATCH_SIZE</h4>
<pre>static final&nbsp;int TIMED_OUT_TXN_ABORT_BATCH_SIZE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.hadoop.hive.metastore.txn.TxnStore.TIMED_OUT_TXN_ABORT_BATCH_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getOpenTxnsInfo--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOpenTxnsInfo</h4>
<pre><a href="../../../../../../org/apache/hadoop/hive/metastore/api/GetOpenTxnsInfoResponse.html" title="class in org.apache.hadoop.hive.metastore.api">GetOpenTxnsInfoResponse</a>&nbsp;getOpenTxnsInfo()
                                 throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">Get information about open transactions.  This gives extensive information about the
 transactions rather than just the list of transactions.  This should be used when the need
 is to see information about the transactions (e.g. show transactions).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>information about open transactions</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="getOpenTxns--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOpenTxns</h4>
<pre><a href="../../../../../../org/apache/hadoop/hive/metastore/api/GetOpenTxnsResponse.html" title="class in org.apache.hadoop.hive.metastore.api">GetOpenTxnsResponse</a>&nbsp;getOpenTxns()
                         throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">Get list of valid transactions.  This gives just the list of transactions that are open.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>list of open transactions, as well as a high water mark.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="countOpenTxns--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>countOpenTxns</h4>
<pre>void&nbsp;countOpenTxns()
            throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">Get the count for open transactions.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="openTxns-org.apache.hadoop.hive.metastore.api.OpenTxnRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openTxns</h4>
<pre><a href="../../../../../../org/apache/hadoop/hive/metastore/api/OpenTxnsResponse.html" title="class in org.apache.hadoop.hive.metastore.api">OpenTxnsResponse</a>&nbsp;openTxns(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/OpenTxnRequest.html" title="class in org.apache.hadoop.hive.metastore.api">OpenTxnRequest</a>&nbsp;rqst)
                   throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">Open a set of transactions</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rqst</code> - request to open transactions</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>information on opened transactions</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="abortTxn-org.apache.hadoop.hive.metastore.api.AbortTxnRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abortTxn</h4>
<pre>void&nbsp;abortTxn(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/AbortTxnRequest.html" title="class in org.apache.hadoop.hive.metastore.api">AbortTxnRequest</a>&nbsp;rqst)
       throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/NoSuchTxnException.html" title="class in org.apache.hadoop.hive.metastore.api">NoSuchTxnException</a>,
              <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a>,
              <a href="../../../../../../org/apache/hadoop/hive/metastore/api/TxnAbortedException.html" title="class in org.apache.hadoop.hive.metastore.api">TxnAbortedException</a></pre>
<div class="block">Abort (rollback) a transaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rqst</code> - info on transaction to abort</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/NoSuchTxnException.html" title="class in org.apache.hadoop.hive.metastore.api">NoSuchTxnException</a></code></dd>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/TxnAbortedException.html" title="class in org.apache.hadoop.hive.metastore.api">TxnAbortedException</a></code></dd>
</dl>
</li>
</ul>
<a name="abortTxns-org.apache.hadoop.hive.metastore.api.AbortTxnsRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abortTxns</h4>
<pre>void&nbsp;abortTxns(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/AbortTxnsRequest.html" title="class in org.apache.hadoop.hive.metastore.api">AbortTxnsRequest</a>&nbsp;rqst)
        throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/NoSuchTxnException.html" title="class in org.apache.hadoop.hive.metastore.api">NoSuchTxnException</a>,
               <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">Abort (rollback) a list of transactions in one request.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rqst</code> - info on transactions to abort</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/NoSuchTxnException.html" title="class in org.apache.hadoop.hive.metastore.api">NoSuchTxnException</a></code></dd>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="commitTxn-org.apache.hadoop.hive.metastore.api.CommitTxnRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commitTxn</h4>
<pre>void&nbsp;commitTxn(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/CommitTxnRequest.html" title="class in org.apache.hadoop.hive.metastore.api">CommitTxnRequest</a>&nbsp;rqst)
        throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/NoSuchTxnException.html" title="class in org.apache.hadoop.hive.metastore.api">NoSuchTxnException</a>,
               <a href="../../../../../../org/apache/hadoop/hive/metastore/api/TxnAbortedException.html" title="class in org.apache.hadoop.hive.metastore.api">TxnAbortedException</a>,
               <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">Commit a transaction</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rqst</code> - info on transaction to commit</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/NoSuchTxnException.html" title="class in org.apache.hadoop.hive.metastore.api">NoSuchTxnException</a></code></dd>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/TxnAbortedException.html" title="class in org.apache.hadoop.hive.metastore.api">TxnAbortedException</a></code></dd>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="replTableWriteIdState-org.apache.hadoop.hive.metastore.api.ReplTblWriteIdStateRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replTableWriteIdState</h4>
<pre>void&nbsp;replTableWriteIdState(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/ReplTblWriteIdStateRequest.html" title="class in org.apache.hadoop.hive.metastore.api">ReplTblWriteIdStateRequest</a>&nbsp;rqst)
                    throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">Replicate Table Write Ids state to mark aborted write ids and writeid high water mark.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rqst</code> - info on table/partitions and writeid snapshot to replicate.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code> - in case of failure</dd>
</dl>
</li>
</ul>
<a name="getMaterializationInvalidationInfo-org.apache.hadoop.hive.metastore.api.CreationMetadata-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaterializationInvalidationInfo</h4>
<pre><a href="../../../../../../org/apache/hadoop/hive/metastore/api/Materialization.html" title="class in org.apache.hadoop.hive.metastore.api">Materialization</a>&nbsp;getMaterializationInvalidationInfo(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/CreationMetadata.html" title="class in org.apache.hadoop.hive.metastore.api">CreationMetadata</a>&nbsp;cm,
                                                   <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;validTxnList)
                                            throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">Get invalidation info for the materialization. Currently, the materialization information
 only contains information about whether there was update/delete operations on the source
 tables used by the materialization since it was created.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cm</code> - creation metadata for the materialization</dd>
<dd><code>validTxnList</code> - valid transaction list for snapshot taken for current query</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="lockMaterializationRebuild-java.lang.String-java.lang.String-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockMaterializationRebuild</h4>
<pre><a href="../../../../../../org/apache/hadoop/hive/metastore/api/LockResponse.html" title="class in org.apache.hadoop.hive.metastore.api">LockResponse</a>&nbsp;lockMaterializationRebuild(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;dbName,
                                        <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tableName,
                                        long&nbsp;txnId)
                                 throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="heartbeatLockMaterializationRebuild-java.lang.String-java.lang.String-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>heartbeatLockMaterializationRebuild</h4>
<pre>boolean&nbsp;heartbeatLockMaterializationRebuild(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;dbName,
                                            <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tableName,
                                            long&nbsp;txnId)
                                     throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="cleanupMaterializationRebuildLocks-org.apache.hadoop.hive.common.ValidTxnList-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanupMaterializationRebuildLocks</h4>
<pre>long&nbsp;cleanupMaterializationRebuildLocks(org.apache.hadoop.hive.common.ValidTxnList&nbsp;validTxnList,
                                        long&nbsp;timeout)
                                 throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="getValidWriteIds-org.apache.hadoop.hive.metastore.api.GetValidWriteIdsRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getValidWriteIds</h4>
<pre><a href="../../../../../../org/apache/hadoop/hive/metastore/api/GetValidWriteIdsResponse.html" title="class in org.apache.hadoop.hive.metastore.api">GetValidWriteIdsResponse</a>&nbsp;getValidWriteIds(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/GetValidWriteIdsRequest.html" title="class in org.apache.hadoop.hive.metastore.api">GetValidWriteIdsRequest</a>&nbsp;rqst)
                                   throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/NoSuchTxnException.html" title="class in org.apache.hadoop.hive.metastore.api">NoSuchTxnException</a>,
                                          <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">Gets the list of valid write ids for the given table wrt to current txn</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rqst</code> - info on transaction and list of table names associated with given transaction</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/NoSuchTxnException.html" title="class in org.apache.hadoop.hive.metastore.api">NoSuchTxnException</a></code></dd>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="allocateTableWriteIds-org.apache.hadoop.hive.metastore.api.AllocateTableWriteIdsRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allocateTableWriteIds</h4>
<pre><a href="../../../../../../org/apache/hadoop/hive/metastore/api/AllocateTableWriteIdsResponse.html" title="class in org.apache.hadoop.hive.metastore.api">AllocateTableWriteIdsResponse</a>&nbsp;allocateTableWriteIds(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/AllocateTableWriteIdsRequest.html" title="class in org.apache.hadoop.hive.metastore.api">AllocateTableWriteIdsRequest</a>&nbsp;rqst)
                                             throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/NoSuchTxnException.html" title="class in org.apache.hadoop.hive.metastore.api">NoSuchTxnException</a>,
                                                    <a href="../../../../../../org/apache/hadoop/hive/metastore/api/TxnAbortedException.html" title="class in org.apache.hadoop.hive.metastore.api">TxnAbortedException</a>,
                                                    <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">Allocate a write ID for the given table and associate it with a transaction</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rqst</code> - info on transaction and table to allocate write id</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/NoSuchTxnException.html" title="class in org.apache.hadoop.hive.metastore.api">NoSuchTxnException</a></code></dd>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/TxnAbortedException.html" title="class in org.apache.hadoop.hive.metastore.api">TxnAbortedException</a></code></dd>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="seedWriteIdOnAcidConversion-org.apache.hadoop.hive.metastore.api.InitializeTableWriteIdsRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>seedWriteIdOnAcidConversion</h4>
<pre>void&nbsp;seedWriteIdOnAcidConversion(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/InitializeTableWriteIdsRequest.html" title="class in org.apache.hadoop.hive.metastore.api">InitializeTableWriteIdsRequest</a>&nbsp;rqst)
                          throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">Called on conversion of existing table to full acid.  Sets initial write ID to a high
 enough value so that we can assign unique ROW__IDs to data in existing files.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="lock-org.apache.hadoop.hive.metastore.api.LockRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lock</h4>
<pre><a href="../../../../../../org/apache/hadoop/hive/metastore/api/LockResponse.html" title="class in org.apache.hadoop.hive.metastore.api">LockResponse</a>&nbsp;lock(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/LockRequest.html" title="class in org.apache.hadoop.hive.metastore.api">LockRequest</a>&nbsp;rqst)
           throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/NoSuchTxnException.html" title="class in org.apache.hadoop.hive.metastore.api">NoSuchTxnException</a>,
                  <a href="../../../../../../org/apache/hadoop/hive/metastore/api/TxnAbortedException.html" title="class in org.apache.hadoop.hive.metastore.api">TxnAbortedException</a>,
                  <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">Obtain a lock.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rqst</code> - information on the lock to obtain.  If the requester is part of a transaction
             the txn information must be included in the lock request.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>info on the lock, including whether it was obtained.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/NoSuchTxnException.html" title="class in org.apache.hadoop.hive.metastore.api">NoSuchTxnException</a></code></dd>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/TxnAbortedException.html" title="class in org.apache.hadoop.hive.metastore.api">TxnAbortedException</a></code></dd>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="checkLock-org.apache.hadoop.hive.metastore.api.CheckLockRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkLock</h4>
<pre><a href="../../../../../../org/apache/hadoop/hive/metastore/api/LockResponse.html" title="class in org.apache.hadoop.hive.metastore.api">LockResponse</a>&nbsp;checkLock(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/CheckLockRequest.html" title="class in org.apache.hadoop.hive.metastore.api">CheckLockRequest</a>&nbsp;rqst)
                throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/NoSuchTxnException.html" title="class in org.apache.hadoop.hive.metastore.api">NoSuchTxnException</a>,
                       <a href="../../../../../../org/apache/hadoop/hive/metastore/api/NoSuchLockException.html" title="class in org.apache.hadoop.hive.metastore.api">NoSuchLockException</a>,
                       <a href="../../../../../../org/apache/hadoop/hive/metastore/api/TxnAbortedException.html" title="class in org.apache.hadoop.hive.metastore.api">TxnAbortedException</a>,
                       <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">Check whether a lock has been obtained.  This is used after <a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#lock-org.apache.hadoop.hive.metastore.api.LockRequest-"><code>lock(org.apache.hadoop.hive.metastore.api.LockRequest)</code></a> returned a wait
 state.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rqst</code> - info on the lock to check</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>info on the state of the lock</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/NoSuchTxnException.html" title="class in org.apache.hadoop.hive.metastore.api">NoSuchTxnException</a></code></dd>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/NoSuchLockException.html" title="class in org.apache.hadoop.hive.metastore.api">NoSuchLockException</a></code></dd>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/TxnAbortedException.html" title="class in org.apache.hadoop.hive.metastore.api">TxnAbortedException</a></code></dd>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="unlock-org.apache.hadoop.hive.metastore.api.UnlockRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlock</h4>
<pre>void&nbsp;unlock(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/UnlockRequest.html" title="class in org.apache.hadoop.hive.metastore.api">UnlockRequest</a>&nbsp;rqst)
     throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/NoSuchLockException.html" title="class in org.apache.hadoop.hive.metastore.api">NoSuchLockException</a>,
            <a href="../../../../../../org/apache/hadoop/hive/metastore/api/TxnOpenException.html" title="class in org.apache.hadoop.hive.metastore.api">TxnOpenException</a>,
            <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">Unlock a lock.  It is not legal to call this if the caller is part of a txn.  In that case
 the txn should be committed or aborted instead.  (Note someday this will change since
 multi-statement transactions will allow unlocking in the transaction.)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rqst</code> - lock to unlock</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/NoSuchLockException.html" title="class in org.apache.hadoop.hive.metastore.api">NoSuchLockException</a></code></dd>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/TxnOpenException.html" title="class in org.apache.hadoop.hive.metastore.api">TxnOpenException</a></code></dd>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="showLocks-org.apache.hadoop.hive.metastore.api.ShowLocksRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>showLocks</h4>
<pre><a href="../../../../../../org/apache/hadoop/hive/metastore/api/ShowLocksResponse.html" title="class in org.apache.hadoop.hive.metastore.api">ShowLocksResponse</a>&nbsp;showLocks(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/ShowLocksRequest.html" title="class in org.apache.hadoop.hive.metastore.api">ShowLocksRequest</a>&nbsp;rqst)
                     throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">Get information on current locks.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rqst</code> - lock information to retrieve</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>lock information.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="heartbeat-org.apache.hadoop.hive.metastore.api.HeartbeatRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>heartbeat</h4>
<pre>void&nbsp;heartbeat(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/HeartbeatRequest.html" title="class in org.apache.hadoop.hive.metastore.api">HeartbeatRequest</a>&nbsp;ids)
        throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/NoSuchTxnException.html" title="class in org.apache.hadoop.hive.metastore.api">NoSuchTxnException</a>,
               <a href="../../../../../../org/apache/hadoop/hive/metastore/api/NoSuchLockException.html" title="class in org.apache.hadoop.hive.metastore.api">NoSuchLockException</a>,
               <a href="../../../../../../org/apache/hadoop/hive/metastore/api/TxnAbortedException.html" title="class in org.apache.hadoop.hive.metastore.api">TxnAbortedException</a>,
               <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">Send a heartbeat for a lock or a transaction</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ids</code> - lock and/or txn id to heartbeat</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/NoSuchTxnException.html" title="class in org.apache.hadoop.hive.metastore.api">NoSuchTxnException</a></code></dd>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/NoSuchLockException.html" title="class in org.apache.hadoop.hive.metastore.api">NoSuchLockException</a></code></dd>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/TxnAbortedException.html" title="class in org.apache.hadoop.hive.metastore.api">TxnAbortedException</a></code></dd>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="heartbeatTxnRange-org.apache.hadoop.hive.metastore.api.HeartbeatTxnRangeRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>heartbeatTxnRange</h4>
<pre><a href="../../../../../../org/apache/hadoop/hive/metastore/api/HeartbeatTxnRangeResponse.html" title="class in org.apache.hadoop.hive.metastore.api">HeartbeatTxnRangeResponse</a>&nbsp;heartbeatTxnRange(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/HeartbeatTxnRangeRequest.html" title="class in org.apache.hadoop.hive.metastore.api">HeartbeatTxnRangeRequest</a>&nbsp;rqst)
                                     throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">Heartbeat a group of transactions together</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rqst</code> - set of transactions to heartbat</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>info on txns that were heartbeated</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="compact-org.apache.hadoop.hive.metastore.api.CompactionRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compact</h4>
<pre><a href="../../../../../../org/apache/hadoop/hive/metastore/api/CompactionResponse.html" title="class in org.apache.hadoop.hive.metastore.api">CompactionResponse</a>&nbsp;compact(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/CompactionRequest.html" title="class in org.apache.hadoop.hive.metastore.api">CompactionRequest</a>&nbsp;rqst)
                    throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">Submit a compaction request into the queue.  This is called when a user manually requests a
 compaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rqst</code> - information on what to compact</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>id of the compaction that has been started or existing id if this resource is already scheduled</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="showCompact-org.apache.hadoop.hive.metastore.api.ShowCompactRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>showCompact</h4>
<pre><a href="../../../../../../org/apache/hadoop/hive/metastore/api/ShowCompactResponse.html" title="class in org.apache.hadoop.hive.metastore.api">ShowCompactResponse</a>&nbsp;showCompact(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/ShowCompactRequest.html" title="class in org.apache.hadoop.hive.metastore.api">ShowCompactRequest</a>&nbsp;rqst)
                         throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">Show list of current compactions.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rqst</code> - info on which compactions to show</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>compaction information</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="addDynamicPartitions-org.apache.hadoop.hive.metastore.api.AddDynamicPartitions-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addDynamicPartitions</h4>
<pre>void&nbsp;addDynamicPartitions(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/AddDynamicPartitions.html" title="class in org.apache.hadoop.hive.metastore.api">AddDynamicPartitions</a>&nbsp;rqst)
                   throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/NoSuchTxnException.html" title="class in org.apache.hadoop.hive.metastore.api">NoSuchTxnException</a>,
                          <a href="../../../../../../org/apache/hadoop/hive/metastore/api/TxnAbortedException.html" title="class in org.apache.hadoop.hive.metastore.api">TxnAbortedException</a>,
                          <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">Add information on a set of dynamic partitions that participated in a transaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rqst</code> - dynamic partition info.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/NoSuchTxnException.html" title="class in org.apache.hadoop.hive.metastore.api">NoSuchTxnException</a></code></dd>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/TxnAbortedException.html" title="class in org.apache.hadoop.hive.metastore.api">TxnAbortedException</a></code></dd>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="cleanupRecords-org.apache.hadoop.hive.metastore.api.HiveObjectType-org.apache.hadoop.hive.metastore.api.Database-org.apache.hadoop.hive.metastore.api.Table-java.util.Iterator-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanupRecords</h4>
<pre>void&nbsp;cleanupRecords(<a href="../../../../../../org/apache/hadoop/hive/metastore/api/HiveObjectType.html" title="enum in org.apache.hadoop.hive.metastore.api">HiveObjectType</a>&nbsp;type,
                    <a href="../../../../../../org/apache/hadoop/hive/metastore/api/Database.html" title="class in org.apache.hadoop.hive.metastore.api">Database</a>&nbsp;db,
                    <a href="../../../../../../org/apache/hadoop/hive/metastore/api/Table.html" title="class in org.apache.hadoop.hive.metastore.api">Table</a>&nbsp;table,
                    <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../../../../org/apache/hadoop/hive/metastore/api/Partition.html" title="class in org.apache.hadoop.hive.metastore.api">Partition</a>&gt;&nbsp;partitionIterator)
             throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">Clean up corresponding records in metastore tables.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - Hive object type</dd>
<dd><code>db</code> - database object</dd>
<dd><code>table</code> - table object</dd>
<dd><code>partitionIterator</code> - partition iterator</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="onRename-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onRename</h4>
<pre>void&nbsp;onRename(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;oldCatName,
              <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;oldDbName,
              <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;oldTabName,
              <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;oldPartName,
              <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;newCatName,
              <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;newDbName,
              <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;newTabName,
              <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;newPartName)
       throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="performTimeOuts--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>performTimeOuts</h4>
<pre>void&nbsp;performTimeOuts()</pre>
<div class="block">Timeout transactions and/or locks.  This should only be called by the compactor.</div>
</li>
</ul>
<a name="findPotentialCompactions-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findPotentialCompactions</h4>
<pre><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../../../org/apache/hadoop/hive/metastore/txn/CompactionInfo.html" title="class in org.apache.hadoop.hive.metastore.txn">CompactionInfo</a>&gt;&nbsp;findPotentialCompactions(int&nbsp;maxAborted)
                                      throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">This will look through the completed_txn_components table and look for partitions or tables
 that may be ready for compaction.  Also, look through txns and txn_components tables for
 aborted transactions that we should add to the list.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>maxAborted</code> - Maximum number of aborted queries to allow before marking this as a
                   potential compaction.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>list of CompactionInfo structs.  These will not have id, type,
 or runAs set since these are only potential compactions not actual ones.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="setRunAs-long-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRunAs</h4>
<pre>void&nbsp;setRunAs(long&nbsp;cq_id,
              <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;user)
       throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">Sets the user to run as.  This is for the case
 where the request was generated by the user and so the worker must set this value later.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cq_id</code> - id of this entry in the queue</dd>
<dd><code>user</code> - user to run the jobs as</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="findNextToCompact-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findNextToCompact</h4>
<pre><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/CompactionInfo.html" title="class in org.apache.hadoop.hive.metastore.txn">CompactionInfo</a>&nbsp;findNextToCompact(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;workerId)
                          throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">This will grab the next compaction request off of
 the queue, and assign it to the worker.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>workerId</code> - id of the worker calling this, will be recorded in the db</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an info element for this compaction request, or null if there is no work to do now.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="markCompacted-org.apache.hadoop.hive.metastore.txn.CompactionInfo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markCompacted</h4>
<pre>void&nbsp;markCompacted(<a href="../../../../../../org/apache/hadoop/hive/metastore/txn/CompactionInfo.html" title="class in org.apache.hadoop.hive.metastore.txn">CompactionInfo</a>&nbsp;info)
            throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">This will mark an entry in the queue as compacted
 and put it in the ready to clean state.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>info</code> - info on the compaction entry to mark as compacted.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="findReadyToClean--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findReadyToClean</h4>
<pre><a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../org/apache/hadoop/hive/metastore/txn/CompactionInfo.html" title="class in org.apache.hadoop.hive.metastore.txn">CompactionInfo</a>&gt;&nbsp;findReadyToClean()
                               throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">Find entries in the queue that are ready to
 be cleaned.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>information on the entry in the queue.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="markCleaned-org.apache.hadoop.hive.metastore.txn.CompactionInfo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markCleaned</h4>
<pre>void&nbsp;markCleaned(<a href="../../../../../../org/apache/hadoop/hive/metastore/txn/CompactionInfo.html" title="class in org.apache.hadoop.hive.metastore.txn">CompactionInfo</a>&nbsp;info)
          throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">This will remove an entry from the queue after
 it has been compacted.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>info</code> - info on the compaction entry to remove</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="markFailed-org.apache.hadoop.hive.metastore.txn.CompactionInfo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markFailed</h4>
<pre>void&nbsp;markFailed(<a href="../../../../../../org/apache/hadoop/hive/metastore/txn/CompactionInfo.html" title="class in org.apache.hadoop.hive.metastore.txn">CompactionInfo</a>&nbsp;info)
         throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">Mark a compaction entry as failed.  This will move it to the compaction history queue with a
 failed status.  It will NOT clean up aborted transactions in the table/partition associated
 with this compaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>info</code> - information on the compaction that failed.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="cleanTxnToWriteIdTable--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanTxnToWriteIdTable</h4>
<pre>void&nbsp;cleanTxnToWriteIdTable()
                     throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">Clean up entries from TXN_TO_WRITE_ID table less than min_uncommited_txnid as found by
 min(NEXT_TXN_ID.ntxn_next, min(MIN_HISTORY_LEVEL.mhl_min_open_txnid), min(Aborted TXNS.txn_id)).</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="cleanEmptyAbortedTxns--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanEmptyAbortedTxns</h4>
<pre>void&nbsp;cleanEmptyAbortedTxns()
                    throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">Clean up aborted transactions from txns that have no components in txn_components.  The reson such
 txns exist can be that now work was done in this txn (e.g. Streaming opened TransactionBatch and
 abandoned it w/o doing any work) or due to <a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#markCleaned-org.apache.hadoop.hive.metastore.txn.CompactionInfo-"><code>markCleaned(CompactionInfo)</code></a> being called.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="revokeFromLocalWorkers-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>revokeFromLocalWorkers</h4>
<pre>void&nbsp;revokeFromLocalWorkers(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;hostname)
                     throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">This will take all entries assigned to workers
 on a host return them to INITIATED state.  The initiator should use this at start up to
 clean entries from any workers that were in the middle of compacting when the metastore
 shutdown.  It does not reset entries from worker threads on other hosts as those may still
 be working.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>hostname</code> - Name of this host.  It is assumed this prefixes the thread's worker id,
                 so that like hostname% will match the worker id.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="revokeTimedoutWorkers-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>revokeTimedoutWorkers</h4>
<pre>void&nbsp;revokeTimedoutWorkers(long&nbsp;timeout)
                    throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">This call will return all compaction queue
 entries assigned to a worker but over the timeout back to the initiated state.
 This should be called by the initiator on start up and occasionally when running to clean up
 after dead threads.  At start up <a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.html#revokeFromLocalWorkers-java.lang.String-"><code>revokeFromLocalWorkers(String)</code></a> should be called
 first.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timeout</code> - number of milliseconds since start time that should elapse before a worker is
                declared dead.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="findColumnsWithStats-org.apache.hadoop.hive.metastore.txn.CompactionInfo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findColumnsWithStats</h4>
<pre><a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;findColumnsWithStats(<a href="../../../../../../org/apache/hadoop/hive/metastore/txn/CompactionInfo.html" title="class in org.apache.hadoop.hive.metastore.txn">CompactionInfo</a>&nbsp;ci)
                           throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">Queries metastore DB directly to find columns in the table which have statistics information.
 If <code>ci</code> includes partition info then per partition stats info is examined, otherwise
 table level stats are examined.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="setCompactionHighestWriteId-org.apache.hadoop.hive.metastore.txn.CompactionInfo-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCompactionHighestWriteId</h4>
<pre>void&nbsp;setCompactionHighestWriteId(<a href="../../../../../../org/apache/hadoop/hive/metastore/txn/CompactionInfo.html" title="class in org.apache.hadoop.hive.metastore.txn">CompactionInfo</a>&nbsp;ci,
                                 long&nbsp;highestWriteId)
                          throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">Record the highest write id that the <code>ci</code> compaction job will pay attention to.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="purgeCompactionHistory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>purgeCompactionHistory</h4>
<pre>void&nbsp;purgeCompactionHistory()
                     throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">For any given compactable entity (partition, table if not partitioned) the history of compactions
 may look like "sssfffaaasffss", for example.  The idea is to retain the tail (most recent) of the
 history such that a configurable number of each type of state is present.  Any other entries
 can be purged.  This scheme has advantage of always retaining the last failure/success even if
 it's not recent.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="performWriteSetGC--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>performWriteSetGC</h4>
<pre>void&nbsp;performWriteSetGC()</pre>
<div class="block">WriteSet tracking is used to ensure proper transaction isolation.  This method deletes the 
 transaction metadata once it becomes unnecessary.</div>
</li>
</ul>
<a name="checkFailedCompactions-org.apache.hadoop.hive.metastore.txn.CompactionInfo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkFailedCompactions</h4>
<pre>boolean&nbsp;checkFailedCompactions(<a href="../../../../../../org/apache/hadoop/hive/metastore/txn/CompactionInfo.html" title="class in org.apache.hadoop.hive.metastore.txn">CompactionInfo</a>&nbsp;ci)
                        throws <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<div class="block">Determine if there are enough consecutive failures compacting a table or partition that no
 new automatic compactions should be scheduled.  User initiated compactions do not do this
 check.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ci</code> - Table or partition to check.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if it is ok to compact, false if there have been too many failures.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="numLocksInLockTable--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numLocksInLockTable</h4>
<pre>int&nbsp;numLocksInLockTable()
                 throws <a href="http://docs.oracle.com/javase/8/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a>,
                        <a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd>
<dd><code><a href="../../../../../../org/apache/hadoop/hive/metastore/api/MetaException.html" title="class in org.apache.hadoop.hive.metastore.api">MetaException</a></code></dd>
</dl>
</li>
</ul>
<a name="setTimeout-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTimeout</h4>
<pre>long&nbsp;setTimeout(long&nbsp;milliseconds)</pre>
</li>
</ul>
<a name="getMutexAPI--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMutexAPI</h4>
<pre><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.MutexAPI.html" title="interface in org.apache.hadoop.hive.metastore.txn">TxnStore.MutexAPI</a>&nbsp;getMutexAPI()</pre>
</li>
</ul>
<a name="setHadoopJobId-java.lang.String-long-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setHadoopJobId</h4>
<pre>void&nbsp;setHadoopJobId(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;hadoopJobId,
                    long&nbsp;id)</pre>
<div class="block">Once a <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html?is-external=true" title="class or interface in java.util.concurrent"><code>ThreadPoolExecutor</code></a> Worker submits a job to the cluster,
 it calls this to update the metadata.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - <a href="../../../../../../org/apache/hadoop/hive/metastore/txn/CompactionInfo.html#id"><code>CompactionInfo.id</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TxnStore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnDbUtil.html" title="class in org.apache.hadoop.hive.metastore.txn"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/hadoop/hive/metastore/txn/TxnStore.MUTEX_KEY.html" title="enum in org.apache.hadoop.hive.metastore.txn"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/hadoop/hive/metastore/txn/TxnStore.html" target="_top">Frames</a></li>
<li><a href="TxnStore.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2019 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
