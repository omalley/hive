<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_192-ea) on Mon Aug 26 13:33:12 PDT 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>LowLevelCache (Hive 3.1.2 API)</title>
<meta name="date" content="2019-08-26">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LowLevelCache (Hive 3.1.2 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LowLevelCache.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/hadoop/hive/llap/cache/LlapOomDebugDump.html" title="interface in org.apache.hadoop.hive.llap.cache"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/hadoop/hive/llap/cache/LowLevelCache.Priority.html" title="enum in org.apache.hadoop.hive.llap.cache"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/hadoop/hive/llap/cache/LowLevelCache.html" target="_top">Frames</a></li>
<li><a href="LowLevelCache.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.hive.llap.cache</div>
<h2 title="Interface LowLevelCache" class="title">Interface LowLevelCache</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="../../../../../../org/apache/hadoop/hive/llap/cache/LlapOomDebugDump.html" title="interface in org.apache.hadoop.hive.llap.cache">LlapOomDebugDump</a></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../../org/apache/hadoop/hive/llap/cache/LowLevelCacheImpl.html" title="class in org.apache.hadoop.hive.llap.cache">LowLevelCacheImpl</a>, <a href="../../../../../../org/apache/hadoop/hive/llap/cache/SimpleBufferManager.html" title="class in org.apache.hadoop.hive.llap.cache">SimpleBufferManager</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">LowLevelCache</span>
extends <a href="../../../../../../org/apache/hadoop/hive/llap/cache/LlapOomDebugDump.html" title="interface in org.apache.hadoop.hive.llap.cache">LlapOomDebugDump</a></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Interface and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/llap/cache/LowLevelCache.Priority.html" title="enum in org.apache.hadoop.hive.llap.cache">LowLevelCache.Priority</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>org.apache.hadoop.hive.common.io.DiskRangeList</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/llap/cache/LowLevelCache.html#getFileData-java.lang.Object-org.apache.hadoop.hive.common.io.DiskRangeList-long-org.apache.hadoop.hive.common.io.DataCache.DiskRangeListFactory-org.apache.hadoop.hive.llap.cache.LowLevelCacheCounters-org.apache.hadoop.hive.common.io.DataCache.BooleanRef-">getFileData</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;fileKey,
           org.apache.hadoop.hive.common.io.DiskRangeList&nbsp;range,
           long&nbsp;baseOffset,
           org.apache.hadoop.hive.common.io.DataCache.DiskRangeListFactory&nbsp;factory,
           <a href="../../../../../../org/apache/hadoop/hive/llap/cache/LowLevelCacheCounters.html" title="interface in org.apache.hadoop.hive.llap.cache">LowLevelCacheCounters</a>&nbsp;qfCounters,
           org.apache.hadoop.hive.common.io.DataCache.BooleanRef&nbsp;gotAllData)</code>
<div class="block">Gets file data for particular offsets.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/llap/cache/LowLevelCache.html#notifyEvicted-org.apache.hadoop.hive.common.io.encoded.MemoryBuffer-">notifyEvicted</a></span>(org.apache.hadoop.hive.common.io.encoded.MemoryBuffer&nbsp;buffer)</code>
<div class="block">Notifies the cache that a particular buffer should be removed due to eviction.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>long[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/hive/llap/cache/LowLevelCache.html#putFileData-java.lang.Object-org.apache.hadoop.hive.common.io.DiskRange:A-org.apache.hadoop.hive.common.io.encoded.MemoryBuffer:A-long-org.apache.hadoop.hive.llap.cache.LowLevelCache.Priority-org.apache.hadoop.hive.llap.cache.LowLevelCacheCounters-java.lang.String-">putFileData</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;fileKey,
           org.apache.hadoop.hive.common.io.DiskRange[]&nbsp;ranges,
           org.apache.hadoop.hive.common.io.encoded.MemoryBuffer[]&nbsp;chunks,
           long&nbsp;baseOffset,
           <a href="../../../../../../org/apache/hadoop/hive/llap/cache/LowLevelCache.Priority.html" title="enum in org.apache.hadoop.hive.llap.cache">LowLevelCache.Priority</a>&nbsp;priority,
           <a href="../../../../../../org/apache/hadoop/hive/llap/cache/LowLevelCacheCounters.html" title="interface in org.apache.hadoop.hive.llap.cache">LowLevelCacheCounters</a>&nbsp;qfCounters,
           <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tag)</code>
<div class="block">Puts file data into cache.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.hadoop.hive.llap.cache.LlapOomDebugDump">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.hadoop.hive.llap.cache.<a href="../../../../../../org/apache/hadoop/hive/llap/cache/LlapOomDebugDump.html" title="interface in org.apache.hadoop.hive.llap.cache">LlapOomDebugDump</a></h3>
<code><a href="../../../../../../org/apache/hadoop/hive/llap/cache/LlapOomDebugDump.html#debugDumpForOom--">debugDumpForOom</a>, <a href="../../../../../../org/apache/hadoop/hive/llap/cache/LlapOomDebugDump.html#debugDumpShort-java.lang.StringBuilder-">debugDumpShort</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getFileData-java.lang.Object-org.apache.hadoop.hive.common.io.DiskRangeList-long-org.apache.hadoop.hive.common.io.DataCache.DiskRangeListFactory-org.apache.hadoop.hive.llap.cache.LowLevelCacheCounters-org.apache.hadoop.hive.common.io.DataCache.BooleanRef-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFileData</h4>
<pre>org.apache.hadoop.hive.common.io.DiskRangeList&nbsp;getFileData(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;fileKey,
                                                           org.apache.hadoop.hive.common.io.DiskRangeList&nbsp;range,
                                                           long&nbsp;baseOffset,
                                                           org.apache.hadoop.hive.common.io.DataCache.DiskRangeListFactory&nbsp;factory,
                                                           <a href="../../../../../../org/apache/hadoop/hive/llap/cache/LowLevelCacheCounters.html" title="interface in org.apache.hadoop.hive.llap.cache">LowLevelCacheCounters</a>&nbsp;qfCounters,
                                                           org.apache.hadoop.hive.common.io.DataCache.BooleanRef&nbsp;gotAllData)</pre>
<div class="block">Gets file data for particular offsets. The range list is modified in place; it is then
 returned (since the list head could have changed). Ranges are replaced with cached ranges.
 In case of partial overlap with cached data, full cache blocks are always returned;
 there's no capacity for partial matches in return type. The rules are as follows:
 1) If the requested range starts in the middle of a cached range, that cached range will not
    be returned by default (e.g. if [100,200) and [200,300) are cached, the request for
    [150,300) will only return [200,300) from cache). This may be configurable in impls.
    This is because we assume well-known range start offsets are used (rg/stripe offsets), so
    a request from the middle of the start doesn't make sense.
 2) If the requested range ends in the middle of a cached range, that entire cached range will
    be returned (e.g. if [100,200) and [200,300) are cached, the request for [100,250) will
    return both ranges). It should really be same as #1, however currently ORC uses estimated
    end offsets; we do in fact know in such cases that partially-matched cached block (rg)
    can be thrown away, the reader will never touch it; but we need code in the reader to
    handle such cases to avoid disk reads for these "tails" vs real unmatched ranges.
    Some sort of InvalidCacheChunk could be placed to avoid them. TODO</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>base</code> - base offset for the ranges (stripe/stream offset in case of ORC).</dd>
</dl>
</li>
</ul>
<a name="putFileData-java.lang.Object-org.apache.hadoop.hive.common.io.DiskRange:A-org.apache.hadoop.hive.common.io.encoded.MemoryBuffer:A-long-org.apache.hadoop.hive.llap.cache.LowLevelCache.Priority-org.apache.hadoop.hive.llap.cache.LowLevelCacheCounters-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putFileData</h4>
<pre>long[]&nbsp;putFileData(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;fileKey,
                   org.apache.hadoop.hive.common.io.DiskRange[]&nbsp;ranges,
                   org.apache.hadoop.hive.common.io.encoded.MemoryBuffer[]&nbsp;chunks,
                   long&nbsp;baseOffset,
                   <a href="../../../../../../org/apache/hadoop/hive/llap/cache/LowLevelCache.Priority.html" title="enum in org.apache.hadoop.hive.llap.cache">LowLevelCache.Priority</a>&nbsp;priority,
                   <a href="../../../../../../org/apache/hadoop/hive/llap/cache/LowLevelCacheCounters.html" title="interface in org.apache.hadoop.hive.llap.cache">LowLevelCacheCounters</a>&nbsp;qfCounters,
                   <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tag)</pre>
<div class="block">Puts file data into cache.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>null if all data was put; bitmask indicating which chunks were not put otherwise;
         the replacement chunks from cache are updated directly in the array.</dd>
</dl>
</li>
</ul>
<a name="notifyEvicted-org.apache.hadoop.hive.common.io.encoded.MemoryBuffer-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>notifyEvicted</h4>
<pre>void&nbsp;notifyEvicted(org.apache.hadoop.hive.common.io.encoded.MemoryBuffer&nbsp;buffer)</pre>
<div class="block">Notifies the cache that a particular buffer should be removed due to eviction.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LowLevelCache.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/hadoop/hive/llap/cache/LlapOomDebugDump.html" title="interface in org.apache.hadoop.hive.llap.cache"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/hadoop/hive/llap/cache/LowLevelCache.Priority.html" title="enum in org.apache.hadoop.hive.llap.cache"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/hadoop/hive/llap/cache/LowLevelCache.html" target="_top">Frames</a></li>
<li><a href="LowLevelCache.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2019 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
